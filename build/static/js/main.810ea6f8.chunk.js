(this["webpackJsonppetful-client"]=this["webpackJsonppetful-client"]||[]).push([[0],{23:function(e,t,n){e.exports=n(36)},24:function(e,t,n){},34:function(e,t,n){e.exports=n.p+"static/media/human-and-pet.58d4ab2a.jpg"},35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);n(24);var a=n(0),r=n.n(a),o=n(21),l=n.n(o),s=n(11),c=n(3),i=n(4),u=n(6),p=n(5),m=n(7),h=n(1);var d=function(){return r.a.createElement("header",{className:"header-group wrapper"},r.a.createElement(s.b,{to:"/"},r.a.createElement("h1",null,"Petsy.")),r.a.createElement("nav",{className:"nav-group"},r.a.createElement("ul",{className:"nav-links-list"},r.a.createElement("li",{className:"nav-link"},r.a.createElement(s.b,{to:"/adoptionlistpage"},"Adoption List")),r.a.createElement("li",{className:"nav-link"},r.a.createElement(s.b,{to:"/adoptionpage"},"Adoption Page")))))},f={API_ENDPOINT:"https://frozen-hamlet-55111.herokuapp.com/"};var E=function(e){return r.a.createElement("article",{className:"group-pet-info"},r.a.createElement("h2",null,e.name),r.a.createElement("img",{src:e.imageURL,alt:e.name}),r.a.createElement("p",null,"Age: ",e.age),r.a.createElement("p",null,"Breed: ",e.breed),r.a.createElement("p",null,"Description: ",e.description),r.a.createElement("p",null,"Gender: ",e.gender),r.a.createElement("p",null,"Story: ",e.story))};var g=function(e){var t=e.cats.map((function(e,t){return r.a.createElement(E,Object.assign({key:t},e))}));return r.a.createElement("section",{className:"group-column"},r.a.createElement("h2",null,"Cats Adoption List"),t)};var b=function(e){return r.a.createElement("article",{className:"group-pet-info"},r.a.createElement("h2",null,e.name),r.a.createElement("img",{src:e.imageURL,alt:e.name}),r.a.createElement("p",null,"Age: ",e.age),r.a.createElement("p",null,"Breed: ",e.breed),r.a.createElement("p",null,"Description: ",e.description),r.a.createElement("p",null,"Gender: ",e.gender),r.a.createElement("p",null,"Story: ",e.story))};var j=function(e){var t=e.dogs.map((function(e,t){return r.a.createElement(b,Object.assign({key:t},e))}));return r.a.createElement("section",{className:"group-column"},r.a.createElement("h2",null,"Dogs Adoption List"),t)},v=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={cats:[],dogs:[],error:null},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;return fetch("".concat(f.API_ENDPOINT,"pets")).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(t){var n=t.cats,a=t.dogs;e.setState({cats:n,dogs:a})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Adoption List"),r.a.createElement("section",{className:"group"},r.a.createElement(g,{cats:this.state.cats}),r.a.createElement(j,{dogs:this.state.dogs})))}}]),t}(a.Component),P=n(13),y=n(18),O=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).displayAdoptButton=function(){if(n.props.fosterParents[0]===window.localStorage.getItem("foster_parent"))return r.a.createElement("button",{onClick:function(e){return n.props.handleAdopt(e,"cats")}},"Adopt Me")},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("article",{className:"group-pet-info"},r.a.createElement("h2",null,"Cat Adoption Queue"),r.a.createElement("h3",null,this.props.name),r.a.createElement("img",{src:this.props.imageURL,alt:this.props.name}),r.a.createElement("p",null,"Age: ",this.props.age),r.a.createElement("p",null,"Breed: ",this.props.breed),r.a.createElement("p",null,"Description: ",this.props.description),r.a.createElement("p",null,"Gender: ",this.props.gender),r.a.createElement("p",null,"Story: ",this.props.story),this.displayAdoptButton())}}]),t}(a.Component),N=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).displayAdoptButton=function(){if(n.props.fosterParents[0]===window.localStorage.getItem("foster_parent"))return r.a.createElement("button",{onClick:function(e){return n.props.handleAdopt(e,"dogs")}},"Adopt Me")},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("article",{className:"group-pet-info"},r.a.createElement("h2",null,"Dog Adoption Queue"),r.a.createElement("h3",null,this.props.name),r.a.createElement("img",{src:this.props.imageURL,alt:this.props.name}),r.a.createElement("p",null,"Age: ",this.props.age),r.a.createElement("p",null,"Breed: ",this.props.breed),r.a.createElement("p",null,"Description: ",this.props.description),r.a.createElement("p",null,"Gender: ",this.props.gender),r.a.createElement("p",null,"Story: ",this.props.story),this.displayAdoptButton())}}]),t}(a.Component),A=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.fosterParents,n=void 0===t?[]:t,a=n.length?n.map((function(e,t){return r.a.createElement("li",{key:t},e)})):"";return r.a.createElement("article",{className:"group-foster-parents-list"},r.a.createElement("h2",null,"Foster Parents List"),r.a.createElement("form",{onSubmit:function(t){return e.props.handleFosterParentEnqueue(t)}},r.a.createElement("input",{id:"newFosterParent",placeholder:"Enqueue your name!",type:"text"}),r.a.createElement("button",null,"Enqueue!")),r.a.createElement("ol",null,a))}}]),t}(a.Component),S=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={adopted:null,demo:null,cats:[],dogs:[],fosterParents:[],error:null},n.handleFosterParentEnqueue=function(e){e.preventDefault();var t=e.target.newFosterParent.value;e.target.newFosterParent.value="",window.localStorage.setItem("foster_parent",t),fetch("".concat(f.API_ENDPOINT,"people"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({newFosterParent:t})}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(){var e=[].concat(Object(y.a)(n.state.fosterParents),[t]);n.setState({fosterParents:e})})).catch((function(e){return n.setState(Object(P.a)({},e))}))},n.handleAdopt=function(e,t){e.preventDefault(),fetch("".concat(f.API_ENDPOINT,"pets"),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:t})}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(e){window.localStorage.removeItem("foster_parent");var a=n.state.cats,r=n.state.dogs,o=n.state.fosterParents;"cats"===t&&a.shift(),"dogs"===t&&r.shift(),o.shift(),n.setState({adopted:e.adopted,cats:a,dogs:r,fosterParents:o})})).catch((function(e){n.setState(Object(P.a)({},e))}))},n.handlePageDemo=function(){n.setState({adopted:null,demo:"Demo starts in 15 seconds. Please put in your name!"},(function(){setTimeout((function(){var e=setInterval((function(){return n.handleAdoptDemo(e)}),5e3)}),15e3)}))},n.handleAdoptDemo=function(e){fetch("".concat(f.API_ENDPOINT,"pets"),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"all"})}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(e){var t=n.state.cats,a=n.state.dogs,r=n.state.fosterParents;return t.shift(),a.shift(),r.shift(),n.setState({demo:"".concat(e.fosterParent," just adopted ").concat(e.adopted.cats.name," & ").concat(e.adopted.dogs.name,"!"),cats:t,dogs:a,fosterParents:r}),e})).then((function(){var t=n.state.fosterParents,a=void 0===t?[]:t;if(a[0]===window.localStorage.getItem("foster_parent")||!a.length){clearInterval(e);var r=["Wes","Minh","Joshy","Muhajir","Chatchi"],o=0,l=setInterval((function(){n.handleFosterParentEnqueueDemo(l,r[o]),o++}),5e3)}})).catch((function(t){clearInterval(e),n.setState(Object(P.a)({},t))}))},n.handleFosterParentEnqueueDemo=function(e,t){var a=t;n.state.fosterParents.length>=5?clearInterval(e):fetch("".concat(f.API_ENDPOINT,"people"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({newFosterParent:a})}).then((function(e){return e.json()})).then((function(){var e=[].concat(Object(y.a)(n.state.fosterParents),[a]);n.setState({demo:"Populating foster parents list...",fosterParents:e})})).then((function(){if(n.state.fosterParents.length>=5)return clearInterval(e),void n.setState({demo:null})})).catch((function(e){return n.setState(Object(P.a)({},e))}))},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(f.API_ENDPOINT,"pets")).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(t){return e.setState({cats:t.cats,dogs:t.dogs})})).then(fetch("".concat(f.API_ENDPOINT,"people")).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(t){e.setState({fosterParents:t})})).catch((function(t){e.setState(Object(P.a)({},t))}))).catch((function(t){return e.setState(Object(P.a)({},t))}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.adopted,a=void 0===n?null:n,o=t.demo,l=void 0===o?null:o,s=t.cats,c=void 0===s?[]:s,i=t.dogs,u=void 0===i?[]:i,p=t.fosterParents,m=void 0===p?[]:p;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"group-column"},r.a.createElement("h2",null,"Adoption Page"),l?r.a.createElement("p",{className:"align-self-center"},l):r.a.createElement("button",{onClick:function(){return e.handlePageDemo()}},"Start Demo"),a?r.a.createElement("p",{className:"align-self-center"},"Congratulations! You have just adopted ",a.name,", the ",a.description):""),r.a.createElement("div",{className:"group"},r.a.createElement("section",{className:"group-column"},r.a.createElement(O,Object.assign({},c[0],{fosterParents:m,handleAdopt:this.handleAdopt})),r.a.createElement(N,Object.assign({},u[0],{fosterParents:m,handleAdopt:this.handleAdopt}))),r.a.createElement("section",{className:"group-column"},r.a.createElement(A,{fosterParents:m,handleFosterParentEnqueue:this.handleFosterParentEnqueue}))))}}]),t}(a.Component),w=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("article",{className:"group-pet-info"},r.a.createElement("h2",null,"Welcome"),r.a.createElement("img",{src:n(34),alt:"Human and His Pet"}),r.a.createElement("p",null,"Petsy is a unique, first-come-first-served, first-in-first-out pet adoption site, which utilizes a queue data structure."),r.a.createElement("h3",{className:"left"},"How It Works:"),r.a.createElement("ol",null,r.a.createElement("li",null,"A user may only adopt a cat or a dog that has been in the shelter the longest and at his turn."),r.a.createElement("li",null,"To see a full list of pets for adoption, the user may navigate to the adoption list page."),r.a.createElement("li",null,"To begin the adoption process, the user may navigate to the adoption page, where the pets in front of the adoption queue are shown."),r.a.createElement("li",null,"For a chance to adopt, the user must enqueue his name onto the list."),r.a.createElement("li",null,"When it is his turn, an adopt button will appear on the screen next to each pet.")),r.a.createElement("h3",{className:"left"},"How the Demo Works:"),r.a.createElement("ol",null,r.a.createElement("li",null,"To see a demo of this site, please click the 'Start Demo' demo on the adoption page."),r.a.createElement("li",null,"There is a 15-second grace period to enqueue your name. Please do so!"),r.a.createElement("li",null,"As soon as the grace period ends, both pets on queue will be 'adopted' by the person on top of the Foster Parent List."),r.a.createElement("li",null,"When it is your turn, you may choose to adopt any of the pets. See the list populate with names until it reaches a length of 5.")),r.a.createElement(s.b,{to:"/adoptionpage"},r.a.createElement("button",null,"Start Button")))}}]),t}(a.Component),k=(n(35),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d,null),r.a.createElement("main",{className:"wrapper"},r.a.createElement(h.c,null,r.a.createElement(h.a,{path:"/adoptionlistpage",component:v}),r.a.createElement(h.a,{path:"/adoptionpage",render:function(e){return r.a.createElement(S,e)}}),r.a.createElement(h.a,{path:"/",component:w}))))}}]),t}(a.Component));l.a.render(r.a.createElement(s.a,null,r.a.createElement(k,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.810ea6f8.chunk.js.map